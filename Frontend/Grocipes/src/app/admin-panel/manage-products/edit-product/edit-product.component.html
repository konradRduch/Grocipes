<div class="container">
  <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
    <div class="row">
      <div class="col-6">
        <div class="mb-3">
          <label for="name">Name</label>
          <div class="input-group">
            <input id="name" formControlName="name" class="form-control" placeholder="name" />
          </div>
        </div>
        <div class="mb-3">
          <label for="weight">Weight</label>
          <div class="input-group">
            <input id="weight" formControlName="weight" class="form-control" placeholder="weight" type="number" step="10" min="0" />
          </div>
        </div>
        <div class="mb-3">
          <label for="unit_id">Unit</label>
          <div class="input-group">
            <select id="unit_id" formControlName="unit_id" class="form-select">
              <option *ngFor="let type of productUnit" [value]="type.value">{{ type.label }}</option>
            </select>
          </div>
        </div>
        <div class="mb-3">
          <label for="price">Price</label>
          <div class="input-group">
            <input id="price" formControlName="price" class="form-control" placeholder="price" type="number" step="0.1" min="0" />
          </div>
        </div>
        <div class="mb-3">
          <label for="image_url">Image URL</label>
          <div class="input-group">
            <input id="image_url" formControlName="image_url" type="url" class="form-control" placeholder="image url" />
          </div>
        </div>
        <div class="mb-3">
          <label for="calories">Calories</label>
          <div class="input-group">
            <input id="calories" formControlName="calories" class="form-control" placeholder="calories" type="number" step="10" min="0" />
          </div>
        </div>
      </div>
      <div class="col-6">
        <!-- Nutrients -->
        <div formArrayName="nutrient">
          <div *ngFor="let nutrient of nutrients.controls; let i = index" [formGroupName]="i" class="mb-3">
            <label>{{ nutrient.get('name')?.value }}</label>
            <div class="input-group">
              <input formControlName="amount" class="form-control" placeholder="amount" type="number" step="0.1" min="0" />
              <input formControlName="dailyValue" class="form-control" placeholder="daily value" type="number" step="1" min="0" />
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <button class="btn btn-success" type="submit" [disabled]="!productForm.valid">
          Save
        </button>
        <button class="btn btn-danger" type="button" (click)="onCancel()" style="margin-left: 5px;">
          Cancel
        </button>
      </div>
    </div>
  </form>
</div>
